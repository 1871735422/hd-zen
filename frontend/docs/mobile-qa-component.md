# 移动端 QA 组件文档

## 概述

根据设计稿完成了移动端的禅修课问答（QA）页面组件。该组件提供了完整的移动端问答浏览体验。

## 实现的功能

### 1. 册别导航

- 显示第一册至第四册，以及"寂止的修法"和"空性的修法"
- 当前选中的册别以渐变色高亮显示
- 点击可切换不同册别

### 2. 课程主题选择

- 显示当前册别下的所有课程主题
- 主题按钮支持长文本截断
- 选中的主题以渐变色高亮显示
- 点击可切换到对应主题的问答列表

### 3. 搜索功能

- 提供搜索框用于过滤问题
- 搜索框右侧显示视频图标
- 支持实时搜索过滤

### 4. 问题列表

- 卡片式布局显示问题列表
- 每个问题卡片包含：
  - 圆形序号徽章（渐变背景）
  - 问题标题（粗体，单行显示）
  - 问题内容（灰色文字，最多两行）
  - 视频图标按钮（右侧）
- 点击卡片跳转到对应的问答视频页面
- 空状态显示友好的提示信息

## 技术实现

### 组件文件

- `app/components/mobile/MobileQaPage.tsx` - 移动端 QA 页面主组件
- `app/qa/[slug]/layout.tsx` - 添加了移动端布局支持
- `app/qa/[slug]/page.tsx` - 更新以使用新的移动端组件

### 样式特点

- 使用 `pxToVw` 工具进行响应式尺寸转换
- 渐变色背景符合设计系统
- 圆角和阴影效果统一
- 触摸反馈动画

### 路由结构

- `/qa/[courseOrder]` - 问答列表页（默认显示第一课）
- `/qa/[courseOrder]?tab=lesson[lessonOrder]` - 切换课程主题
- `/qa/[courseOrder]/lesson[lessonOrder]?tab=question[questionOrder]` - 问答详情页

## 设计稿对照

组件严格按照设计稿实现，包括：

- ✅ 册别导航按钮样式和布局
- ✅ 主题选择按钮样式和布局
- ✅ 搜索框样式和图标位置
- ✅ 问题卡片布局和内容层次
- ✅ 颜色、间距、字体大小等细节

## 使用的组件

- `MobileVolumeNavigation` - 册别导航组件（复用）
- `VideoCamIcon` - 视频摄像机图标
- Material-UI 的 `Box`, `Typography` 等基础组件

## 数据流

1. 从 API 获取课程主题列表（`getCourseTopicsByDisplayOrder`）
2. 从 API 获取问答列表（`getAnswerMediasByOrder`）
3. 根据 URL 参数确定当前选中的课程和主题
4. 支持客户端搜索过滤

## 兼容性

- 仅在移动设备上显示
- PC 端继续使用原有的 QA 侧边栏布局
- 通过 `getDeviceTypeFromHeaders` 进行服务端设备检测
